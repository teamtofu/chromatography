(this.webpackJsonpconductivity=this.webpackJsonpconductivity||[]).push([[0],{339:function(e,t,a){e.exports=a(683)},575:function(e,t,a){},683:function(e,t,a){"use strict";a.r(t);a(340),a(390);var n=a(1),r=a.n(n),c=a(98),o=a.n(c),l=a(65),i=(a(575),a(703)),s=a(716),u=a(705),m=a(709),d=a(708),v=a(713),f=a(706),h=a(712),p=a(714),E=function(e,t){var a=(e=e.sort((function(e,t){return e.x-t.x})))[0],n=e[e.length-1];return e.forEach((function(e){e.x<t&&e.x>a.x&&(a=e),e.x>t&&e.x<n.x&&(n=e)})),console.log(a,n),(a.y-n.y)/(a.x-n.x)*(t-n.x)+n.y};Math.sign,Math.pow(2,53);var b=function(){return r.a.createElement("header",{className:"py-3"},r.a.createElement(i.a,{variant:"h4",component:"h1"},"Conductivity Analyzer"),r.a.createElement("hr",null))},y=function(){var e=Object(n.useRef)(),t=Object(n.useState)(),a=Object(l.a)(t,2),c=a[0],o=a[1],y=Object(n.useState)(),g=Object(l.a)(y,2),x=g[0],N=g[1],w=Object(n.useState)(1),S=Object(l.a)(w,2),k=S[0],C=S[1],j=Object(n.useState)(),O=Object(l.a)(j,2),M=O[0],W=O[1];if(k>1&&x){var A=x.csv,B=x.trend,F=(A[2]||[]).slice(8,10),I=Object(l.a)(F,2),R=(I[0],I[1],(A[7]||[]).slice(8,10)),D=Object(l.a)(R,2);D[0],D[1];if(console.log(B.map((function(e){return Object(l.a)(e,1)[0]}))),3===k){var P=B.filter((function(e){var t=Object(l.a)(e,1)[0].x;return t>=M[0]&&t<=M[1]}));console.log(M[0],M[1],P);var T=P.reduce((function(e,t){return t[0].y>e?t[0].y:e}),P[0][0].y),V=P.reduce((function(e,t){return t[0].y<e?t[0].y:e}),P[0][0].y),L=T-V,U=P.map((function(e){return{x:e[0].x,y:Math.abs((e[0].y-V)/L)}})),X=E(U.map((function(e){var t=e.x;return{x:e.y,y:t}})),.5),z=X-.35,H=X+.35,J=0,$=0;B.forEach((function(e,t){Math.abs(e[0].x-z)<Math.abs(B[J][0].x-z)&&(J=t),Math.abs(e[0].x-H)<Math.abs(B[$][0].x-H)&&($=t)})),console.log(X,J,$),T=(P=B.slice(J,$+1)).reduce((function(e,t){return t[0].y>e?t[0].y:e}),P[0][0].y),V=P.reduce((function(e,t){return t[0].y<e?t[0].y:e}),P[0][0].y),L=T-V;var q=(U=P.map((function(e){return{x:e[0].x,y:Math.abs((e[0].y-V)/L)}}))).map((function(e){var t=e.x;return{x:e.y,y:t}})),G={5:E(q,.05),10:E(q,.1),15:E(q,.15),20:E(q,.2),25:E(q,.25),30:E(q,.3),70:E(q,.7),75:E(q,.75),80:E(q,.8),85:E(q,.85),90:E(q,.9),95:E(q,.95)},K=Math.abs(G[95]-G[5]),Q=[[95,5],[90,10],[85,15],[80,20],[75,25],[70,30]].reduce((function(e,t){return e+Math.abs(G[t[0]]/G[t[1]]||1)}),0)/6;return console.log("interpol",G,K,Q),r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement(i.a,{align:"center"},"Normalized Conductivity vs Column Volume"),r.a.createElement("div",{style:{height:480,maxHeight:"60vh"}},r.a.createElement(d.a,{theme:v.a.material},r.a.createElement(f.a,{style:{data:{stroke:"#c43a31"},parent:{border:"1px solid #ccc"}},data:U}),r.a.createElement(h.a,{style:{data:{stroke:"#000"},parent:{border:"1px solid #ccc"}},data:[{x:X,y:.5}]}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{color:"textSecondary",gutterBottom:!0},"Inlet Statistic"),r.a.createElement(i.a,{variant:"h5",component:"h2"},K.toFixed(4)," CV"),r.a.createElement(i.a,{color:"textSecondary"},"TransWidth"),r.a.createElement(i.a,{variant:"body2",component:"p"},"Width between the 95th percentile and 5th percentile.")))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{color:"textSecondary",gutterBottom:!0},"Inlet Statistic"),r.a.createElement(i.a,{variant:"h5",component:"h2"},Q.toFixed(3)),r.a.createElement(i.a,{color:"textSecondary"},"DirectAf"),r.a.createElement(i.a,{variant:"body2",component:"p"},"Average of percentile ratios between the (100\xa0-\xa0X)th and Xth percentiles for X = 5, 10, 15, 20, 25, 30")))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{color:"textSecondary",gutterBottom:!0},"Inlet Statistic"),r.a.createElement(i.a,{variant:"h5",component:"h2"},(G[90]/G[10]).toFixed(3)),r.a.createElement(i.a,{color:"textSecondary"},"DirectAf (standard)"),r.a.createElement(i.a,{variant:"body2",component:"p"},"Percentile ratio for 90th percentile to 10th percentile"))))))}return r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement(i.a,{align:"center"},"Conductivity (mS/s) vs Column Volume"),r.a.createElement("div",{style:{height:480,maxHeight:"60vh"}},r.a.createElement(d.a,{theme:v.a.material,containerComponent:r.a.createElement(p.a,{brushDimension:"x",onBrushDomainChangeEnd:function(e){var t=e.x;return W(t)}})},r.a.createElement(f.a,{style:{data:{stroke:"#c43a31"},parent:{border:"1px solid #ccc"}},data:B.map((function(e){return Object(l.a)(e,1)[0]}))}))),r.a.createElement("div",{className:"mt-3"},r.a.createElement(m.a,{onClick:function(){return C(3)},variant:"contained",color:"default",fullWidth:!0,disabled:!M},"Continue")))}return r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement("input",{type:"file",className:"d-none",accept:"text/csv",ref:e,onChange:function(){var t;(null===(t=e.current)||void 0===t?void 0:t.files[0])&&o(e.current.files[0].name)}}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement(i.a,{className:"mt-1"},c?'File "'.concat(c,'" selected.'):"Select a file.")),r.a.createElement("div",{className:"col-12 offset-md-1 col-md-3"},r.a.createElement(m.a,{onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.click()},variant:"outlined",fullWidth:!0},"Select CSV")),r.a.createElement("div",{className:"col-12 mt-3"},r.a.createElement(m.a,{onClick:function(){var t,a=null===(t=e.current)||void 0===t?void 0:t.files[0];if(a){var n=new FileReader;n.addEventListener("load",(function(e){var t=(e.target.result||"").trim().split("\n").map((function(e){return e.split(",").map((function(e){return e.trim()}))})),a=Number((t[0]||[])[13])/2,n=Number((t[1]||[])[13]),r=Math.PI*Math.pow(a,2)*n/1e3;console.log(a,n,r);var c=Number(t[0]&&t[0][0]);console.log(t[20][15],t[20]),t.slice(8).forEach((function(e,t){Number.isNaN(Number(e[15]))&&console.log(t,e),Number.isNaN(Number(e[15])/r)&&console.log(t,"v",e)}));var o=0,l=0;N({csv:t,trend:t.slice(8).map((function(e,t){return(e||[]).slice(8,10).map((function(t,a){var n=Number(e[15])/r;return!Number.isNaN(n)&&!Number.isNaN(o)&&n<.85*o&&0===a&&(l+=o),{x:(o=Number.isNaN(n)?o:n)+l,y:Number(t)}}))})),interval:c}),C(2)})),n.readAsText(a)}},variant:"contained",color:"default",fullWidth:!0,disabled:!c},"Continue"))))},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(t,e)}))}}()}},[[339,1,2]]]);
//# sourceMappingURL=main.86e3e986.chunk.js.map